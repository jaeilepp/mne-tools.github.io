<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Contribute to MNE &mdash; MNE 0.12.0 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="MNE 0.12.0 documentation" href="index.html" />
    <link rel="next" title="Customizing git" href="customizing_git.html" />
    <link rel="prev" title="Frequently Asked Questions" href="faq.html" />

<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="http://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img src="_static/mne_logo_small.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.12.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="getting_started.html">Get started</a></li>
                <li><a href="tutorials.html">Tutorials</a></li>
                <li><a href="auto_examples/index.html">Gallery</a></li>
                <li><a href="python_reference.html">API</a></li>
                <li><a href="manual/index.html">Manual</a></li>
                <li><a href="faq.html">FAQ</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">Examples Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Contribute to MNE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python_reference.html">Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats_new.html">What&#8217;s new</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cite.html">How to cite MNE</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">Related publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="cited.html">Publications from MNE users</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Contribute to MNE</a><ul>
<li><a class="reference internal" href="#what-you-will-need">What you will need</a></li>
<li><a class="reference internal" href="#general-code-guidelines">General code guidelines</a></li>
<li><a class="reference internal" href="#more-mne-python-specific-guidelines">More mne-python specific guidelines</a></li>
<li><a class="reference internal" href="#profiling-in-python">Profiling in Python</a></li>
<li><a class="reference internal" href="#configuring-git">Configuring git</a><ul>
<li><a class="reference internal" href="#creating-a-fork">Creating a fork</a></li>
<li><a class="reference internal" href="#set-up-and-configure-a-github-account">Set up and configure a GitHub account</a></li>
<li><a class="reference internal" href="#create-your-own-fork-of-a-repository">Create your own fork of a repository</a></li>
<li><a class="reference internal" href="#setting-up-the-fork-and-the-working-directory">Setting up the fork and the working directory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#workflow-summary">Workflow summary</a><ul>
<li><a class="reference internal" href="#deleting-your-master-branch">Deleting your master branch</a></li>
<li><a class="reference internal" href="#updating-the-mirror-of-trunk">Updating the mirror of trunk</a></li>
<li><a class="reference internal" href="#making-a-new-feature-branch">Making a new feature branch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-editing-workflow">The editing workflow</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#in-more-detail">In more detail</a></li>
</ul>
</li>
<li><a class="reference internal" href="#asking-for-your-changes-to-be-reviewed-or-merged">Asking for your changes to be reviewed or merged</a></li>
<li><a class="reference internal" href="#some-other-things-you-might-want-to-do">Some other things you might want to do</a><ul>
<li><a class="reference internal" href="#delete-a-branch-on-github">Delete a branch on GitHub</a></li>
<li><a class="reference internal" href="#several-people-sharing-a-single-repository">Several people sharing a single repository</a></li>
<li><a class="reference internal" href="#explore-your-repository">Explore your repository</a></li>
<li><a class="reference internal" href="#rebasing-on-trunk">Rebasing on trunk</a></li>
<li><a class="reference internal" href="#recovering-from-mess-ups">Recovering from mess-ups</a></li>
<li><a class="reference internal" href="#rewriting-commit-history">Rewriting commit history</a></li>
<li><a class="reference internal" href="#fetching-a-pull-request">Fetching a pull request</a></li>
<li><a class="reference internal" href="#skipping-a-build">Skipping a build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#adding-an-example-to-example-gallery">Adding an example to example gallery</a></li>
<li><a class="reference internal" href="#building-a-subset-of-examples">Building a subset of examples</a></li>
<li><a class="reference internal" href="#editing-rst-files">Editing *.rst files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#missing-files-in-examples-or-unit-tests">Missing files in examples or unit tests</a></li>
<li><a class="reference internal" href="#cannot-import-class-from-a-new-py-file">Cannot import class from a new *.py file</a></li>
<li><a class="reference internal" href="#ice-default-io-error-handler-doing-an-exit">ICE default IO error handler doing an exit()</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">Contribute to MNE</a><ul>
<li><a class="reference internal" href="#what-you-will-need">What you will need</a></li>
<li><a class="reference internal" href="#general-code-guidelines">General code guidelines</a></li>
<li><a class="reference internal" href="#more-mne-python-specific-guidelines">More mne-python specific guidelines</a></li>
<li><a class="reference internal" href="#profiling-in-python">Profiling in Python</a></li>
<li><a class="reference internal" href="#configuring-git">Configuring git</a><ul>
<li><a class="reference internal" href="#creating-a-fork">Creating a fork</a></li>
<li><a class="reference internal" href="#set-up-and-configure-a-github-account">Set up and configure a GitHub account</a></li>
<li><a class="reference internal" href="#create-your-own-fork-of-a-repository">Create your own fork of a repository</a></li>
<li><a class="reference internal" href="#setting-up-the-fork-and-the-working-directory">Setting up the fork and the working directory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#workflow-summary">Workflow summary</a><ul>
<li><a class="reference internal" href="#deleting-your-master-branch">Deleting your master branch</a></li>
<li><a class="reference internal" href="#updating-the-mirror-of-trunk">Updating the mirror of trunk</a></li>
<li><a class="reference internal" href="#making-a-new-feature-branch">Making a new feature branch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-editing-workflow">The editing workflow</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#in-more-detail">In more detail</a></li>
</ul>
</li>
<li><a class="reference internal" href="#asking-for-your-changes-to-be-reviewed-or-merged">Asking for your changes to be reviewed or merged</a></li>
<li><a class="reference internal" href="#some-other-things-you-might-want-to-do">Some other things you might want to do</a><ul>
<li><a class="reference internal" href="#delete-a-branch-on-github">Delete a branch on GitHub</a></li>
<li><a class="reference internal" href="#several-people-sharing-a-single-repository">Several people sharing a single repository</a></li>
<li><a class="reference internal" href="#explore-your-repository">Explore your repository</a></li>
<li><a class="reference internal" href="#rebasing-on-trunk">Rebasing on trunk</a></li>
<li><a class="reference internal" href="#recovering-from-mess-ups">Recovering from mess-ups</a></li>
<li><a class="reference internal" href="#rewriting-commit-history">Rewriting commit history</a></li>
<li><a class="reference internal" href="#fetching-a-pull-request">Fetching a pull request</a></li>
<li><a class="reference internal" href="#skipping-a-build">Skipping a build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#adding-an-example-to-example-gallery">Adding an example to example gallery</a></li>
<li><a class="reference internal" href="#building-a-subset-of-examples">Building a subset of examples</a></li>
<li><a class="reference internal" href="#editing-rst-files">Editing *.rst files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#missing-files-in-examples-or-unit-tests">Missing files in examples or unit tests</a></li>
<li><a class="reference internal" href="#cannot-import-class-from-a-new-py-file">Cannot import class from a new *.py file</a></li>
<li><a class="reference internal" href="#ice-default-io-error-handler-doing-an-exit">ICE default IO error handler doing an exit()</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <li>
    <a href="faq.html" title="Previous Chapter: Frequently Asked Questions"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Frequently As...</span>
    </a>
  </li>
  <li>
    <a href="customizing_git.html" title="Next Chapter: Customizing git"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Customizing git &raquo;</span>
    </a>
  </li>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12">
      
  <div class="section" id="contribute-to-mne">
<span id="contributing"></span><h1>Contribute to MNE<a class="headerlink" href="#contribute-to-mne" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#what-you-will-need" id="id3">What you will need</a></li>
<li><a class="reference internal" href="#general-code-guidelines" id="id4">General code guidelines</a></li>
<li><a class="reference internal" href="#more-mne-python-specific-guidelines" id="id5">More mne-python specific guidelines</a></li>
<li><a class="reference internal" href="#profiling-in-python" id="id6">Profiling in Python</a></li>
<li><a class="reference internal" href="#configuring-git" id="id7">Configuring git</a><ul>
<li><a class="reference internal" href="#creating-a-fork" id="id8">Creating a fork</a></li>
<li><a class="reference internal" href="#set-up-and-configure-a-github-account" id="id9">Set up and configure a GitHub account</a></li>
<li><a class="reference internal" href="#create-your-own-fork-of-a-repository" id="id10">Create your own fork of a repository</a></li>
<li><a class="reference internal" href="#setting-up-the-fork-and-the-working-directory" id="id11">Setting up the fork and the working directory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#workflow-summary" id="id12">Workflow summary</a><ul>
<li><a class="reference internal" href="#deleting-your-master-branch" id="id13">Deleting your master branch</a></li>
<li><a class="reference internal" href="#updating-the-mirror-of-trunk" id="id14">Updating the mirror of trunk</a></li>
<li><a class="reference internal" href="#making-a-new-feature-branch" id="id15">Making a new feature branch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-editing-workflow" id="id16">The editing workflow</a><ul>
<li><a class="reference internal" href="#overview" id="id17">Overview</a></li>
<li><a class="reference internal" href="#in-more-detail" id="id18">In more detail</a></li>
</ul>
</li>
<li><a class="reference internal" href="#asking-for-your-changes-to-be-reviewed-or-merged" id="id19">Asking for your changes to be reviewed or merged</a></li>
<li><a class="reference internal" href="#some-other-things-you-might-want-to-do" id="id20">Some other things you might want to do</a><ul>
<li><a class="reference internal" href="#delete-a-branch-on-github" id="id21">Delete a branch on GitHub</a></li>
<li><a class="reference internal" href="#several-people-sharing-a-single-repository" id="id22">Several people sharing a single repository</a></li>
<li><a class="reference internal" href="#explore-your-repository" id="id23">Explore your repository</a></li>
<li><a class="reference internal" href="#rebasing-on-trunk" id="id24">Rebasing on trunk</a></li>
<li><a class="reference internal" href="#recovering-from-mess-ups" id="id25">Recovering from mess-ups</a></li>
<li><a class="reference internal" href="#rewriting-commit-history" id="id26">Rewriting commit history</a></li>
<li><a class="reference internal" href="#fetching-a-pull-request" id="id27">Fetching a pull request</a></li>
<li><a class="reference internal" href="#skipping-a-build" id="id28">Skipping a build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation" id="id29">Documentation</a><ul>
<li><a class="reference internal" href="#adding-an-example-to-example-gallery" id="id30">Adding an example to example gallery</a></li>
<li><a class="reference internal" href="#building-a-subset-of-examples" id="id31">Building a subset of examples</a></li>
<li><a class="reference internal" href="#editing-rst-files" id="id32">Editing *.rst files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting" id="id33">Troubleshooting</a><ul>
<li><a class="reference internal" href="#missing-files-in-examples-or-unit-tests" id="id34">Missing files in examples or unit tests</a></li>
<li><a class="reference internal" href="#cannot-import-class-from-a-new-py-file" id="id35">Cannot import class from a new *.py file</a></li>
<li><a class="reference internal" href="#ice-default-io-error-handler-doing-an-exit" id="id36">ICE default IO error handler doing an exit()</a></li>
</ul>
</li>
</ul>
</div>
<p>We are open to all types of contributions, from bugfixes to functionality
enhancements. <a class="reference external" href="http://mne-tools.github.io/mne-python-intro">mne-python</a> is meant to be maintained by a community of labs,
and as such, we seek enhancements that will likely benefit a large proportion
of the users who use the package.</p>
<p><em>Before starting new code</em>, we highly recommend opening an issue on
<a class="reference external" href="https://github.com/mne-tools/mne-python">mne-python GitHub</a> to discuss potential changes. Getting on the same
page as the maintainers about changes or enhancements before too much
coding is done saves everyone time and effort!</p>
<div class="section" id="what-you-will-need">
<h2><a class="toc-backref" href="#id3">What you will need</a><a class="headerlink" href="#what-you-will-need" title="Permalink to this headline">¶</a></h2>
<p>#. A good python editor: <a class="reference external" href="https://atom.io/">Atom</a> and <a class="reference external" href="http://www.sublimetext.com/">Sublime Text</a> are modern general-purpose
text editors and are available on all three major platforms. Both provide
plugins that facilitate editing python code and help avoid bugs and style errors.
See for example <a class="reference external" href="https://atom.io/packages/linter-flake8">linterflake8</a> for <a class="reference external" href="https://atom.io/">Atom</a>.
The <a class="reference external" href="http://pythonhosted.org/spyder/">Spyder</a> IDE is espectially suitable for those migrating from Matlab.
<a class="reference external" href="https://www.enthought.com/products/epd/">EPD</a> and <a class="reference external" href="http://www.continuum.io/downloads">Anaconda</a> both ship Spyder and all its dependencies.
As always, Vim or Emacs will suffice as well.</p>
<ol class="arabic simple">
<li>Basic scientific tools in python: <a class="reference external" href="http://www.numpy.org">numpy</a>, <a class="reference external" href="http://www.scipy.org">scipy</a>, <a class="reference external" href="http://matplotlib.org/">matplotlib</a></li>
<li>Development related tools: <a class="reference external" href="https://nose.readthedocs.org/en/latest/">nosetests</a>, <a class="reference external" href="https://pypi.python.org/pypi/coverage">coverage</a>, <a class="reference external" href="https://pypi.python.org/pypi/nose-timer">nose-timer</a>, <a class="reference external" href="http://mayavi.sourceforge.net/">mayavi</a>, <a class="reference external" href="http://sphinx-doc.org/">sphinx</a>,
<a class="reference external" href="https://pypi.python.org/pypi/pep8">pep8</a>, and <a class="reference external" href="https://pypi.python.org/pypi/pyflakes">pyflakes</a></li>
<li>Other useful packages: <a class="reference external" href="http://pysurfer.github.io/">pysurfer</a>, <a class="reference external" href="http://nipy.org/nitime/">nitime</a>, <a class="reference external" href="http://pandas.pydata.org/">pandas</a>, <a class="reference external" href="https://pypi.python.org/pypi/PIL">PIL</a>, <a class="reference external" href="https://pypi.python.org/pypi/pydicom/">PyDICOM</a>,
<a class="reference external" href="https://pypi.python.org/pypi/joblib">joblib</a>, <a class="reference external" href="http://nipy.org/nibabel">nibabel</a>, <a class="reference external" href="http://www.h5py.org">h5py</a>, and <a class="reference external" href="http://scikit-learn.org/stable/">scikit-learn</a></li>
<li><a class="reference external" href="http://www.nmr.mgh.harvard.edu/martinos/userInfo/data/MNE_register/">MNE command line utilities</a> and <a class="reference external" href="http://surfer.nmr.mgh.harvard.edu/fswiki/DownloadAndInstall/">FreeSurfer</a> are optional but will allow you
to make the best out of MNE. Yet they will require a Unix (Linux or Mac OS)
system. If you are on Windows, you can install these applications inside a
Unix virtual machine.</li>
</ol>
</div>
<div class="section" id="general-code-guidelines">
<h2><a class="toc-backref" href="#id4">General code guidelines</a><a class="headerlink" href="#general-code-guidelines" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">We highly recommend using a code editor that uses both <a class="reference external" href="https://pypi.python.org/pypi/pep8">pep8</a> and
<a class="reference external" href="https://pypi.python.org/pypi/pyflakes">pyflakes</a>, such as <a class="reference external" href="http://pythonhosted.org/spyder/">Spyder</a>. Standard python style guidelines are
followed, with very few exceptions.</p>
<p>You can also manually check pyflakes and pep8 warnings as:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install pyflakes
pip install pep8
pyflakes path/to/module.py
pep8 path/to/module.py
</pre></div>
</div>
<p>AutoPEP8 can then help you fix some of the easy redundant errors:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install autopep8
autopep8 path/to/pep8.py
</pre></div>
</div>
</li>
<li><p class="first">mne-python adheres to the same docstring formatting as seen on
<a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">numpy style</a>.
New public functions should have all variables defined. The test suite
has some functionality that checks docstrings, but docstrings should
still be checked for clarity, uniformity, and completeness.</p>
</li>
<li><p class="first">New functionality should be covered by appropriate tests, e.g. a method in
<tt class="docutils literal"><span class="pre">mne/evoked.py</span></tt> should have a corresponding test in
<tt class="docutils literal"><span class="pre">mne/tests/test_evoked.py</span></tt>. You can use the <tt class="docutils literal"><span class="pre">coverage</span></tt> module in
conjunction with <tt class="docutils literal"><span class="pre">nosetests</span></tt> (nose can automatically determine the code
coverage if <tt class="docutils literal"><span class="pre">coverage</span></tt> is installed) to see how well new code is covered.
The ambition is to achieve around 85% coverage with tests.</p>
</li>
<li><p class="first">After changes have been made, <strong>ensure all tests pass</strong>. This can be done
by running the following from the <tt class="docutils literal"><span class="pre">mne-python</span></tt> root directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">make</span>
</pre></div>
</div>
<p>To run individual tests, you can also run any of the following:</p>
<div class="highlight-python"><div class="highlight"><pre>make clean
make inplace
make test-doc
make inplace
nosetests
</pre></div>
</div>
<p>To explicitly download and extract the mne-python testing dataset (~320 MB)
run:</p>
<div class="highlight-python"><div class="highlight"><pre>make testing_data
</pre></div>
</div>
<p>Alternatively:</p>
<div class="highlight-python"><div class="highlight"><pre>python -c &quot;import mne; mne.datasets.testing.data_path(verbose=True)&quot;
</pre></div>
</div>
<p>downloads the test data as well. Having a complete testing dataset is
necessary for running the tests. To run the examples you&#8217;ll need
the <a class="reference external" href="https://s3.amazonaws.com/mne-python/datasets/MNE-sample-data-processed.tar.gz">mne-python sample dataset</a> which is automatically downloaded
when running an example for the first time.</p>
<p>You can also run <tt class="docutils literal"><span class="pre">nosetests</span> <span class="pre">-x</span></tt> to have nose stop as soon as a failed
test is found, or run e.g., <tt class="docutils literal"><span class="pre">nosetests</span> <span class="pre">mne/tests/test_event.py</span></tt> to run
a specific test. In addition, one can run individual tests from python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mne.utils</span> <span class="kn">import</span> <span class="n">run_tests_if_main</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">run_tests_if_main</span><span class="p">()</span>
</pre></div>
</div>
<p>For more details see <a class="reference internal" href="#troubleshooting">troubleshooting</a>.</p>
</li>
<li><p class="first">Update relevant documentation. Update <a class="reference internal" href="whats_new.html"><em>whats_new.rst</em></a> for new features and <a class="reference internal" href="python_reference.html"><em>python_reference.rst</em></a> for new classes and standalone functions. <a class="reference internal" href="whats_new.html"><em>whats_new.rst</em></a> is organized in chronological order with the last feature at the end of the document.</p>
</li>
</ul>
<blockquote>
<div><p>To ensure that these files were rendered correctly, run the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>make html-noplot
</pre></div>
</div>
<p>This will build the docs without building all the examples, which can save some time.</p>
</div></blockquote>
</div>
<div class="section" id="more-mne-python-specific-guidelines">
<h2><a class="toc-backref" href="#id5">More mne-python specific guidelines</a><a class="headerlink" href="#more-mne-python-specific-guidelines" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Please, ideally address one and only one issue per pull request (PR).</p>
</li>
<li><p class="first">Avoid unnecessary cosmetic changes if they are not the goal of the PR, this will help keep the diff clean and facilitate reviewing.</p>
</li>
<li><p class="first">Use underscores to separate words in non class names: n_samples rather than nsamples.</p>
</li>
<li><p class="first">Use CamelCase for class names.</p>
</li>
<li><p class="first">Use relative imports for references inside mne-python.</p>
</li>
<li><p class="first">Use nested imports for <tt class="docutils literal"><span class="pre">matplotlib</span></tt>, <tt class="docutils literal"><span class="pre">sklearn</span></tt>, and <tt class="docutils literal"><span class="pre">pandas</span></tt>.</p>
</li>
<li><p class="first">Use <tt class="docutils literal"><span class="pre">RdBu_r</span></tt> colormap for signed data and <tt class="docutils literal"><span class="pre">Reds</span></tt> for unsigned data in visualization functions and examples.</p>
</li>
<li><p class="first">All visualization functions must accept a <tt class="docutils literal"><span class="pre">show</span></tt> parameter and return a <tt class="docutils literal"><span class="pre">fig</span></tt> handle.</p>
</li>
<li><p class="first">Efforts to improve test timing without decreasing coverage is well appreciated. To see the top-30 tests in order of decreasing timing, run the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>nosetests --with-timer --timer-top-n 30
</pre></div>
</div>
</li>
<li><p class="first">Instance methods that update the state of the object should return self.</p>
</li>
<li><p class="first">Use single quotes whenever possible.</p>
</li>
<li><p class="first">Prefer generator or list comprehensions over <tt class="docutils literal"><span class="pre">filter</span></tt>, <tt class="docutils literal"><span class="pre">map</span></tt> and other functional idioms.</p>
</li>
<li><p class="first">Use explicit functional constructors for builtin containers to improve readability. E.g. <tt class="docutils literal"><span class="pre">list()</span></tt>, <tt class="docutils literal"><span class="pre">dict()</span></tt>.</p>
</li>
<li><p class="first">Avoid nested functions if not necessary and use private functions instead.</p>
</li>
<li><p class="first">When adding visualization methods, add public functions to the mne.viz package and use these in the corresponding method.</p>
</li>
<li><p class="first">If not otherwise required, methods should deal with state while functions should return copies. There are a few justified exceptions though, e.g. <tt class="docutils literal"><span class="pre">equalize_channels</span></tt>, for memory reasons for example.</p>
</li>
<li><p class="first">Update the whats_new.rst file at the end, otherwise merge conflicts are guaranteed to occur.</p>
</li>
<li><p class="first">Avoid <tt class="docutils literal"><span class="pre">**kwargs</span></tt> and <tt class="docutils literal"><span class="pre">*args</span></tt> in function signatures, they are not user friendly (inspection).</p>
</li>
<li><p class="first">Avoid single character variable names if you can. They are not readable and often they don&#8217;t comply with the builtin debugger.</p>
</li>
<li><p class="first">Add at least some brief comment to a private function to help us guess what it does. For complex private functions please write a full documentation.</p>
</li>
</ul>
</div>
<div class="section" id="profiling-in-python">
<h2><a class="toc-backref" href="#id6">Profiling in Python</a><a class="headerlink" href="#profiling-in-python" title="Permalink to this headline">¶</a></h2>
<p>To learn more about profiling python codes please see <a class="reference external" href="http://scikit-learn.org/stable/developers/performance.html#performance-howto">the scikit learn profiling site</a>.</p>
</div>
<div class="section" id="configuring-git">
<h2><a class="toc-backref" href="#id7">Configuring git</a><a class="headerlink" href="#configuring-git" title="Permalink to this headline">¶</a></h2>
<p>Any contributions to the core mne-python package, whether bug fixes,
improvements to the documentation, or new functionality, can be done via
<em>pull requests</em> on GitHub. The workflow for this is described here.
[Many thanks to <a class="reference external" href="http://www.astropy.org">Astropy</a> for providing clear instructions that we have
adapted for our use here!]</p>
<p>The only absolutely necessary configuration step is identifying yourself and
your contact info:</p>
<div class="highlight-python"><div class="highlight"><pre>git config --global user.name &quot;Your Name&quot;
git config --global user.email you@yourdomain.example.com
</pre></div>
</div>
<p>If you are going to <a class="reference internal" href="#setup-github"><em>Set up and configure a GitHub account</em></a> eventually, this email address should
be the same as the one used to sign up for a GitHub account. For more
information about configuring your git installation, see:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="customizing_git.html">Customizing git</a></li>
</ul>
</div>
<p>The following sections cover the installation of the git software, the basic
configuration, and links to resources to learn more about using git.
However, you can also directly go to the <a class="reference external" href="https://help.github.com/">GitHub help pages</a> which offer a great introduction to git and
GitHub.</p>
<p>In the present document, we refer to the mne-python <tt class="docutils literal"><span class="pre">master</span></tt> branch, as the
<em>trunk</em>.</p>
<div class="section" id="creating-a-fork">
<span id="forking"></span><h3><a class="toc-backref" href="#id8">Creating a fork</a><a class="headerlink" href="#creating-a-fork" title="Permalink to this headline">¶</a></h3>
<p>You need to do this only once for each package you want to contribute to. The
instructions here are very similar to the instructions at
<a class="reference external" href="https://help.github.com/fork-a-repo/">https://help.github.com/fork-a-repo/</a> — please see that page for more
details. We&#8217;re repeating some of it here just to give the specifics for the
<a class="reference external" href="http://mne-tools.github.io/mne-python-intro">mne-python</a> project, and to suggest some default names.</p>
</div>
<div class="section" id="set-up-and-configure-a-github-account">
<span id="setup-github"></span><h3><a class="toc-backref" href="#id9">Set up and configure a GitHub account</a><a class="headerlink" href="#set-up-and-configure-a-github-account" title="Permalink to this headline">¶</a></h3>
<p>If you don&#8217;t have a GitHub account, go to the GitHub page, and make one.</p>
<p>You then need to configure your account to allow write access — see
the <em>Generating SSH keys</em> help on <a class="reference external" href="https://help.github.com">GitHub Help</a>.</p>
</div>
<div class="section" id="create-your-own-fork-of-a-repository">
<h3><a class="toc-backref" href="#id10">Create your own fork of a repository</a><a class="headerlink" href="#create-your-own-fork-of-a-repository" title="Permalink to this headline">¶</a></h3>
<p>Now you should fork the core <tt class="docutils literal"><span class="pre">mne-python</span></tt> repository (although you could
in principle also fork a different one, such as <tt class="docutils literal"><span class="pre">mne-matlab`</span></tt>):</p>
<ol class="arabic">
<li><p class="first">Log into your GitHub account.</p>
</li>
<li><p class="first">Go to the <a class="reference external" href="https://github.com/mne-tools/mne-python">mne-python GitHub</a> home.</p>
</li>
<li><p class="first">Click on the <em>fork</em> button:</p>
<img alt="_images/forking_button.png" src="_images/forking_button.png" />
<p>Now, after a short pause and some &#8216;Hardcore forking action&#8217;, you should
find yourself at the home page for your own forked copy of <a class="reference external" href="http://mne-tools.github.io/mne-python-intro">mne-python</a>.</p>
</li>
</ol>
</div>
<div class="section" id="setting-up-the-fork-and-the-working-directory">
<h3><a class="toc-backref" href="#id11">Setting up the fork and the working directory</a><a class="headerlink" href="#setting-up-the-fork-and-the-working-directory" title="Permalink to this headline">¶</a></h3>
<p>Briefly, this is done using:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone git@github.com:your-user-name/mne-python.git
cd mne-python
git remote add upstream git://github.com/mne-tools/mne-python.git
</pre></div>
</div>
<p>These steps can be broken out to be more explicit as:</p>
<ol class="arabic">
<li><p class="first">Clone your fork to the local computer:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone git@github.com:your-user-name/mne-python.git
</pre></div>
</div>
</li>
<li><p class="first">Change directory to your new repo:</p>
<div class="highlight-python"><div class="highlight"><pre>cd mne-python
</pre></div>
</div>
<p>Then type:</p>
<div class="highlight-python"><div class="highlight"><pre>git branch -a
</pre></div>
</div>
<p>to show you all branches.  You&#8217;ll get something like:</p>
<div class="highlight-python"><div class="highlight"><pre>* master
remotes/origin/master
</pre></div>
</div>
<p>This tells you that you are currently on the <tt class="docutils literal"><span class="pre">master</span></tt> branch, and
that you also have a <tt class="docutils literal"><span class="pre">remote</span></tt> connection to <tt class="docutils literal"><span class="pre">origin/master</span></tt>.
What remote repository is <tt class="docutils literal"><span class="pre">remote/origin</span></tt>? Try <tt class="docutils literal"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></tt> to
see the URLs for the remote.  They will point to your GitHub fork.</p>
<p>Now you want to connect to the mne-python repository, so you can
merge in changes from the trunk:</p>
<div class="highlight-python"><div class="highlight"><pre>cd mne-python
git remote add upstream git://github.com/mne-tools/mne-python.git
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">upstream</span></tt> here is just the arbitrary name we&#8217;re using to refer to the
main <a class="reference external" href="http://mne-tools.github.io/mne-python-intro">mne-python</a> repository.</p>
<p>Note that we&#8217;ve used <tt class="docutils literal"><span class="pre">git://</span></tt> for the URL rather than <tt class="docutils literal"><span class="pre">git&#64;</span></tt>. The
<tt class="docutils literal"><span class="pre">git://</span></tt> URL is read only. This means we that we can&#8217;t accidentally (or
deliberately) write to the upstream repo, and we are only going to use it
to merge into our own code.</p>
<p>Just for your own satisfaction, show yourself that you now have a new
&#8216;remote&#8217;, with <tt class="docutils literal"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span> <span class="pre">show</span></tt>, giving you something like:</p>
<div class="highlight-python"><div class="highlight"><pre>upstream   git://github.com/mne-tools/mne-python.git (fetch)
upstream   git://github.com/mne-tools/mne-python.git (push)
origin     git@github.com:your-user-name/mne-python.git (fetch)
origin     git@github.com:your-user-name/mne-python.git (push)
</pre></div>
</div>
<p>Your fork is now set up correctly.</p>
</li>
<li><p class="first">Install mne with editing permissions to the installed folder:</p>
<p>To be able to conveniently edit your files after installing mne-python,
install using the following setting:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python setup.py develop --user
</pre></div>
</div>
<p>To make changes in the code, edit the relevant files and restart the
ipython kernel for changes to take effect.</p>
</li>
<li><p class="first">Ensure unit tests pass and html files can be compiled</p>
<p>Make sure before starting to code that all unit tests pass and the
html files in the <tt class="docutils literal"><span class="pre">doc/</span></tt> directory can be built without errors. To build
the html files, first go the <tt class="docutils literal"><span class="pre">doc/</span></tt> directory and then type:</p>
<div class="highlight-python"><div class="highlight"><pre>$ make html
</pre></div>
</div>
<p>Once it is compiled for the first time, subsequent compiles will only
recompile what has changed. That&#8217;s it! You are now ready to hack away.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="workflow-summary">
<h2><a class="toc-backref" href="#id12">Workflow summary</a><a class="headerlink" href="#workflow-summary" title="Permalink to this headline">¶</a></h2>
<p>This section gives a summary of the workflow once you have successfully forked
the repository, and details are given for each of these steps in the following
sections.</p>
<ul class="simple">
<li>Don&#8217;t use your <tt class="docutils literal"><span class="pre">master</span></tt> branch for anything.  Consider deleting it.</li>
<li>When you are starting a new set of changes, fetch any changes from the
trunk, and start a new <em>feature branch</em> from that.</li>
<li>Make a new branch for each separable set of changes — &#8220;one task, one
branch&#8221; (<a class="reference external" href="http://mail.scipy.org/pipermail/ipython-dev/2010-October/006746.html">ipython git workflow</a>).</li>
<li>Name your branch for the purpose of the changes - e.g.
<tt class="docutils literal"><span class="pre">bugfix-for-issue-14</span></tt> or <tt class="docutils literal"><span class="pre">refactor-database-code</span></tt>.</li>
<li>If you can possibly avoid it, avoid merging trunk or any other branches into
your feature branch while you are working.</li>
<li>If you do find yourself merging from the trunk, consider <a class="reference internal" href="#rebase-on-trunk"><em>Rebasing on trunk</em></a></li>
<li><strong>Ensure all tests still pass</strong>. Make <a class="reference external" href="https://travis-ci.org/">travis</a> happy.</li>
<li>Ask for code review!</li>
</ul>
<p>This way of working helps to keep work well organized, with readable history.
This in turn makes it easier for project maintainers (that might be you) to
see what you&#8217;ve done, and why you did it.</p>
<p>See <a class="reference external" href="http://www.mail-archive.com/dri-devel&#64;lists.sourceforge.net/msg39091.html">linux git workflow</a> and <a class="reference external" href="http://mail.scipy.org/pipermail/ipython-dev/2010-October/006746.html">ipython git workflow</a> for some explanation.</p>
<div class="section" id="deleting-your-master-branch">
<h3><a class="toc-backref" href="#id13">Deleting your master branch</a><a class="headerlink" href="#deleting-your-master-branch" title="Permalink to this headline">¶</a></h3>
<p>It may sound strange, but deleting your own <tt class="docutils literal"><span class="pre">master</span></tt> branch can help reduce
confusion about which branch you are on.  See <a class="reference external" href="http://matthew-brett.github.io/pydagogue/gh_delete_master.html">deleting master on github</a> for
details.</p>
</div>
<div class="section" id="updating-the-mirror-of-trunk">
<span id="update-mirror-trunk"></span><h3><a class="toc-backref" href="#id14">Updating the mirror of trunk</a><a class="headerlink" href="#updating-the-mirror-of-trunk" title="Permalink to this headline">¶</a></h3>
<p>From time to time you should fetch the upstream (trunk) changes from GitHub:</p>
<div class="highlight-python"><div class="highlight"><pre>git fetch upstream
</pre></div>
</div>
<p>This will pull down any commits you don&#8217;t have, and set the remote branches to
point to the right commit. For example, &#8216;trunk&#8217; is the branch referred to by
(remote/branchname) <tt class="docutils literal"><span class="pre">upstream/master</span></tt> - and if there have been commits since
you last checked, <tt class="docutils literal"><span class="pre">upstream/master</span></tt> will change after you do the fetch.</p>
</div>
<div class="section" id="making-a-new-feature-branch">
<span id="make-feature-branch"></span><h3><a class="toc-backref" href="#id15">Making a new feature branch</a><a class="headerlink" href="#making-a-new-feature-branch" title="Permalink to this headline">¶</a></h3>
<p>When you are ready to make some changes to the code, you should start a new
branch. Branches that are for a collection of related edits are often called
&#8216;feature branches&#8217;.</p>
<p>Making an new branch for each set of related changes will make it easier for
someone reviewing your branch to see what you are doing.</p>
<p>Choose an informative name for the branch to remind yourself and the rest of
us what the changes in the branch are for. For example <tt class="docutils literal"><span class="pre">add-ability-to-fly</span></tt>,
or <tt class="docutils literal"><span class="pre">buxfix-for-issue-42</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre># Update the mirror of trunk
git fetch upstream

# Make new feature branch starting at current trunk
git branch my-new-feature upstream/master
git checkout my-new-feature
</pre></div>
</div>
<p>Generally, you will want to keep your feature branches on your public <a class="reference external" href="https://github.com">GitHub</a>
fork. To do this, you <a class="reference external" href="https://schacon.github.io/git/git-push.html">git push</a> this new branch up to your
github repo. Generally (if you followed the instructions in these pages, and
by default), git will have a link to your GitHub repo, called <tt class="docutils literal"><span class="pre">origin</span></tt>. You
push up to your own repo on GitHub with:</p>
<div class="highlight-python"><div class="highlight"><pre>git push origin my-new-feature
</pre></div>
</div>
<p>In git &gt; 1.7 you can ensure that the link is correctly set by using the
<tt class="docutils literal"><span class="pre">--set-upstream</span></tt> option:</p>
<div class="highlight-python"><div class="highlight"><pre>git push --set-upstream origin my-new-feature
</pre></div>
</div>
<p>From now on git will know that <tt class="docutils literal"><span class="pre">my-new-feature</span></tt> is related to the
<tt class="docutils literal"><span class="pre">my-new-feature</span></tt> branch in the GitHub repo.</p>
</div>
</div>
<div class="section" id="the-editing-workflow">
<span id="edit-flow"></span><h2><a class="toc-backref" href="#id16">The editing workflow</a><a class="headerlink" href="#the-editing-workflow" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3><a class="toc-backref" href="#id17">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>git add my_new_file
git commit -am &#39;FIX: some message&#39;
git push
</pre></div>
</div>
</div>
<div class="section" id="in-more-detail">
<h3><a class="toc-backref" href="#id18">In more detail</a><a class="headerlink" href="#in-more-detail" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Make some changes</p>
</li>
<li><p class="first">See which files have changed with <tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt> (see <a class="reference external" href="https://schacon.github.io/git/git-status.html">git status</a>).
You&#8217;ll see a listing like this one:</p>
<div class="highlight-python"><div class="highlight"><pre># On branch ny-new-feature
# Changed but not updated:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#    modified:   README
#
# Untracked files:
#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
#
#    INSTALL
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre></div>
</div>
</li>
<li><p class="first">Check what the actual changes are with <tt class="docutils literal"><span class="pre">git</span> <span class="pre">diff</span></tt> (<a class="reference external" href="https://schacon.github.io/git/git-diff.html">git diff</a>).</p>
</li>
<li><p class="first">Add any new files to version control <tt class="docutils literal"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">new_file_name</span></tt> (see
<a class="reference external" href="https://schacon.github.io/git/git-add.html">git add</a>).</p>
</li>
<li><p class="first">Add any modified files that you want to commit using
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">modified_file_name</span></tt>  (see <a class="reference external" href="https://schacon.github.io/git/git-add.html">git add</a>).</p>
</li>
<li><p class="first">Once you are ready to commit, check with <tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt> which files are
about to be committed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c1"># Changes to be committed:</span>
<span class="c1">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
<span class="c1">#</span>
<span class="c1">#    modified:   README</span>
</pre></div>
</div>
<p>Then use <tt class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">'A</span> <span class="pre">commit</span> <span class="pre">message'</span></tt>. The <tt class="docutils literal"><span class="pre">m</span></tt> flag just
signals that you&#8217;re going to type a message on the command line. The <a class="reference external" href="https://schacon.github.io/git/git-commit.html">git
commit</a> manual page might also be useful.</p>
<p>It is also good practice to prefix commits with the type of change, such as
<tt class="docutils literal"><span class="pre">FIX:</span></tt>, <tt class="docutils literal"><span class="pre">STY:</span></tt>, or <tt class="docutils literal"><span class="pre">ENH:</span></tt> for fixes, style changes, or enhancements.</p>
</li>
<li><p class="first">To push the changes up to your forked repo on GitHub, do a <tt class="docutils literal"><span class="pre">git</span>
<span class="pre">push</span></tt> (see <a class="reference external" href="https://schacon.github.io/git/git-push.html">git push</a>).</p>
</li>
</ol>
</div>
</div>
<div class="section" id="asking-for-your-changes-to-be-reviewed-or-merged">
<h2><a class="toc-backref" href="#id19">Asking for your changes to be reviewed or merged</a><a class="headerlink" href="#asking-for-your-changes-to-be-reviewed-or-merged" title="Permalink to this headline">¶</a></h2>
<p>When you are ready to ask for someone to review your code and consider a merge:</p>
<ol class="arabic">
<li><p class="first">Go to the URL of your forked repo, say
<tt class="docutils literal"><span class="pre">https://github.com/your-user-name/mne-python</span></tt>.</p>
</li>
<li><p class="first">Use the &#8216;Switch Branches&#8217; dropdown menu near the top left of the page to
select the branch with your changes:</p>
<img alt="_images/branch_dropdown.png" src="_images/branch_dropdown.png" />
</li>
<li><p class="first">Click on the &#8216;Pull request&#8217; button:</p>
<img alt="_images/pull_button.png" src="_images/pull_button.png" />
<p>Enter a title for the set of changes, and some explanation of what you&#8217;ve
done. Say if there is anything you&#8217;d like particular attention for - like a
complicated change or some code you are not happy with.</p>
<p>If you don&#8217;t think your request is ready to be merged, prefix <tt class="docutils literal"><span class="pre">WIP:</span></tt> to
the title of the pull request, and note it also in your pull request
message. This is still a good way of getting some preliminary code review.
Submitting a pull request early on in feature development can save a great
deal of time for you, as the code maintainers may have &#8220;suggestions&#8221; about
how the code should be written (features, style, etc.) that are easier to
implement from the start.</p>
</li>
<li><p class="first">Finally, make <a class="reference external" href="https://travis-ci.org/">travis</a> happy. Ensure that builds in all four jobs pass. To make code python3 compatible, refer to <tt class="docutils literal"><span class="pre">externals/six.py</span></tt>. Use virtual environments to test code on different python versions. Please remember that <a class="reference external" href="https://travis-ci.org/">travis</a> only runs a subset of the tests and is thus not a substitute for running the entire test suite locally.</p>
</li>
<li><p class="first">For the code to be mergeable, please rebase w.r.t master branch.</p>
</li>
<li><p class="first">Once, you are ready, prefix <tt class="docutils literal"><span class="pre">MRG:</span></tt> to the title of the pull request to indicate that you are ready for the pull request to be merged.</p>
</li>
</ol>
<p>If you are uncertain about what would or would not be appropriate to contribute
to mne-python, don&#8217;t hesitate to either send a pull request, or open an issue
on the <a class="reference external" href="http://mne-tools.github.io/mne-python-intro">mne-python</a> GitHub site to discuss potential changes.</p>
</div>
<div class="section" id="some-other-things-you-might-want-to-do">
<h2><a class="toc-backref" href="#id20">Some other things you might want to do</a><a class="headerlink" href="#some-other-things-you-might-want-to-do" title="Permalink to this headline">¶</a></h2>
<div class="section" id="delete-a-branch-on-github">
<h3><a class="toc-backref" href="#id21">Delete a branch on GitHub</a><a class="headerlink" href="#delete-a-branch-on-github" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre># change to the master branch (if you still have one, otherwise change to another branch)
git checkout master

# delete branch locally
git branch -D my-unwanted-branch

# delete branch on GitHub
git push origin :my-unwanted-branch
</pre></div>
</div>
<p>(Note the colon <tt class="docutils literal"><span class="pre">:</span></tt> before <tt class="docutils literal"><span class="pre">test-branch</span></tt>.  See also:
<a class="reference external" href="https://help.github.com/remotes">https://help.github.com/remotes</a></p>
</div>
<div class="section" id="several-people-sharing-a-single-repository">
<h3><a class="toc-backref" href="#id22">Several people sharing a single repository</a><a class="headerlink" href="#several-people-sharing-a-single-repository" title="Permalink to this headline">¶</a></h3>
<p>If you want to work on some stuff with other people, where you are all
committing into the same repository, or even the same branch, then just
share it via GitHub.</p>
<p>First fork mne-python into your account, as from <a class="reference internal" href="#forking"><em>Creating a fork</em></a>.</p>
<p>Then, go to your forked repository GitHub page, say
<tt class="docutils literal"><span class="pre">http://github.com/your-user-name/mne-python</span></tt></p>
<p>Click on the &#8216;Admin&#8217; button, and add anyone else to the repo as a
collaborator:</p>
<blockquote>
<div><img alt="_images/pull_button.png" src="_images/pull_button.png" />
</div></blockquote>
<p>Now all those people can do:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone git@githhub.com:your-user-name/mne-python.git
</pre></div>
</div>
<p>Remember that links starting with <tt class="docutils literal"><span class="pre">git&#64;</span></tt> use the ssh protocol and are
read-write; links starting with <tt class="docutils literal"><span class="pre">git://</span></tt> are read-only.</p>
<p>Your collaborators can then commit directly into that repo with the
usual:</p>
<div class="highlight-python"><div class="highlight"><pre>git commit -am &#39;ENH: much better code&#39;
git push origin master # pushes directly into your repo
</pre></div>
</div>
</div>
<div class="section" id="explore-your-repository">
<h3><a class="toc-backref" href="#id23">Explore your repository</a><a class="headerlink" href="#explore-your-repository" title="Permalink to this headline">¶</a></h3>
<p>To see a graphical representation of the repository branches and
commits:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">gitk</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>
</div>
<p>To see a linear list of commits for this branch:</p>
<div class="highlight-python"><div class="highlight"><pre>git log
</pre></div>
</div>
<p>You can also look at the <a class="reference external" href="https://github.com/blog/39-say-hello-to-the-network-graph-visualizer">network graph visualizer</a> for your GitHub
repo.</p>
<p>Finally the <tt class="docutils literal"><span class="pre">lg</span></tt> alias will give you a reasonable text-based graph of the
repository.</p>
<p>If you are making extensive changes, <tt class="docutils literal"><span class="pre">git</span> <span class="pre">grep</span></tt> is also very handy.</p>
</div>
<div class="section" id="rebasing-on-trunk">
<span id="rebase-on-trunk"></span><h3><a class="toc-backref" href="#id24">Rebasing on trunk</a><a class="headerlink" href="#rebasing-on-trunk" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s say you thought of some work you&#8217;d like to do. You
<a class="reference internal" href="#update-mirror-trunk"><em>Updating the mirror of trunk</em></a> and <a class="reference internal" href="#make-feature-branch"><em>Making a new feature branch</em></a> called
<tt class="docutils literal"><span class="pre">cool-feature</span></tt>. At this stage trunk is at some commit, let&#8217;s call it E. Now
you make some new commits on your <tt class="docutils literal"><span class="pre">cool-feature</span></tt> branch, let&#8217;s call them A,
B, C. Maybe your changes take a while, or you come back to them after a while.
In the meantime, trunk has progressed from commit E to commit (say) G:</p>
<div class="highlight-python"><div class="highlight"><pre>      A---B---C cool-feature
     /
D---E---F---G trunk
</pre></div>
</div>
<p>At this stage you consider merging trunk into your feature branch, and you
remember that this here page sternly advises you not to do that, because the
history will get messy. Most of the time you can just ask for a review, and
not worry that trunk has got a little ahead. But sometimes, the changes in
trunk might affect your changes, and you need to harmonize them. In this
situation you may prefer to do a rebase.</p>
<p>Rebase takes your changes (A, B, C) and replays them as if they had been made
to the current state of <tt class="docutils literal"><span class="pre">trunk</span></tt>. In other words, in this case, it takes the
changes represented by A, B, C and replays them on top of G. After the rebase,
your history will look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>              A&#39;--B&#39;--C&#39; cool-feature
             /
D---E---F---G trunk
</pre></div>
</div>
<p>See <a class="reference external" href="http://matthew-brett.github.io/pydagogue/rebase_without_tears.html">rebase without tears</a> for more detail.</p>
<p>To do a rebase on trunk:</p>
<div class="highlight-python"><div class="highlight"><pre># Update the mirror of trunk
git fetch upstream

# Go to the feature branch
git checkout cool-feature

# Make a backup in case you mess up
git branch tmp cool-feature

# Rebase cool-feature onto trunk
git rebase --onto upstream/master upstream/master cool-feature
</pre></div>
</div>
<p>In this situation, where you are already on branch <tt class="docutils literal"><span class="pre">cool-feature</span></tt>, the last
command can be written more succinctly as:</p>
<div class="highlight-python"><div class="highlight"><pre>git rebase upstream/master
</pre></div>
</div>
<p>When all looks good you can delete your backup branch:</p>
<div class="highlight-python"><div class="highlight"><pre>git branch -D tmp
</pre></div>
</div>
<p>If it doesn&#8217;t look good you may need to have a look at
<a class="reference internal" href="#recovering-from-mess-up"><em>Recovering from mess-ups</em></a>.</p>
<p>If you have made changes to files that have also changed in trunk, this may
generate merge conflicts that you need to resolve - see the <a class="reference external" href="https://schacon.github.io/git/git-rebase.html">git rebase</a> man
page for some instructions at the end of the &#8220;Description&#8221; section. There is
some related help on merging in the git user manual - see <a class="reference external" href="https://schacon.github.io/git/user-manual.html#resolving-a-merge">resolving a
merge</a>.</p>
<p>If your feature branch is already on GitHub and you rebase, you will have to force
push the branch; a normal push would give an error. If the branch you rebased is
called <tt class="docutils literal"><span class="pre">cool-feature</span></tt> and your GitHub fork is available as the remote called <tt class="docutils literal"><span class="pre">origin</span></tt>,
you use this command to force-push:</p>
<div class="highlight-python"><div class="highlight"><pre>git push -f origin cool-feature
</pre></div>
</div>
<p>Note that this will overwrite the branch on GitHub, i.e. this is one of the few ways
you can actually lose commits with git.
Also note that it is never allowed to force push to the main mne-python repo (typically
called <tt class="docutils literal"><span class="pre">upstream</span></tt>), because this would re-write commit history and thus cause problems
for all others.</p>
</div>
<div class="section" id="recovering-from-mess-ups">
<span id="recovering-from-mess-up"></span><h3><a class="toc-backref" href="#id25">Recovering from mess-ups</a><a class="headerlink" href="#recovering-from-mess-ups" title="Permalink to this headline">¶</a></h3>
<p>Sometimes, you mess up merges or rebases. Luckily, in git it is relatively
straightforward to recover from such mistakes.</p>
<p>If you mess up during a rebase:</p>
<div class="highlight-python"><div class="highlight"><pre>git rebase --abort
</pre></div>
</div>
<p>If you notice you messed up after the rebase:</p>
<div class="highlight-python"><div class="highlight"><pre># Reset branch back to the saved point
git reset --hard tmp
</pre></div>
</div>
<p>If you forgot to make a backup branch:</p>
<div class="highlight-python"><div class="highlight"><pre># Look at the reflog of the branch
git reflog show cool-feature

8630830 cool-feature@{0}: commit: BUG: io: close file handles immediately
278dd2a cool-feature@{1}: rebase finished: refs/heads/my-feature-branch onto 11ee694744f2552d
26aa21a cool-feature@{2}: commit: BUG: lib: make seek_gzip_factory not leak gzip obj
...

# Reset the branch to where it was before the botched rebase
git reset --hard cool-feature@{2}
</pre></div>
</div>
<p>Otherwise, googling the issue may be helpful (especially links to Stack
Overflow).</p>
</div>
<div class="section" id="rewriting-commit-history">
<span id="id1"></span><h3><a class="toc-backref" href="#id26">Rewriting commit history</a><a class="headerlink" href="#rewriting-commit-history" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Do this only for your own feature branches.</p>
</div>
<p>There&#8217;s an embarrassing typo in a commit you made? Or perhaps the you
made several false starts you would like the posterity not to see.</p>
<p>This can be done via <em>interactive rebasing</em>.</p>
<p>Suppose that the commit history looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre>git log --oneline
eadc391 Fix some remaining bugs
a815645 Modify it so that it works
2dec1ac Fix a few bugs + disable
13d7934 First implementation
6ad92e5 * masked is now an instance of a new object, MaskedConstant
29001ed Add pre-nep for a copule of structured_array_extensions.
...
</pre></div>
</div>
<p>and <tt class="docutils literal"><span class="pre">6ad92e5</span></tt> is the last commit in the <tt class="docutils literal"><span class="pre">cool-feature</span></tt> branch. Suppose we
want to make the following changes:</p>
<ul class="simple">
<li>Rewrite the commit message for <tt class="docutils literal"><span class="pre">13d7934</span></tt> to something more sensible.</li>
<li>Combine the commits <tt class="docutils literal"><span class="pre">2dec1ac</span></tt>, <tt class="docutils literal"><span class="pre">a815645</span></tt>, <tt class="docutils literal"><span class="pre">eadc391</span></tt> into a single one.</li>
</ul>
<p>We do as follows:</p>
<div class="highlight-python"><div class="highlight"><pre># make a backup of the current state
git branch tmp HEAD
# interactive rebase
git rebase -i 6ad92e5
</pre></div>
</div>
<p>This will open an editor with the following text in it:</p>
<div class="highlight-python"><div class="highlight"><pre>pick 13d7934 First implementation
pick 2dec1ac Fix a few bugs + disable
pick a815645 Modify it so that it works
pick eadc391 Fix some remaining bugs

# Rebase 6ad92e5..eadc391 onto 6ad92e5
#
# Commands:
#  p, pick = use commit
#  r, reword = use commit, but edit the commit message
#  e, edit = use commit, but stop for amending
#  s, squash = use commit, but meld into previous commit
#  f, fixup = like &quot;squash&quot;, but discard this commit&#39;s log message
#
# If you remove a line here THAT COMMIT WILL BE LOST.
# However, if you remove everything, the rebase will be aborted.
#
</pre></div>
</div>
<p>To achieve what we want, we will make the following changes to it:</p>
<div class="highlight-python"><div class="highlight"><pre>r 13d7934 First implementation
pick 2dec1ac Fix a few bugs + disable
f a815645 Modify it so that it works
f eadc391 Fix some remaining bugs
</pre></div>
</div>
<p>This means that (i) we want to edit the commit message for <tt class="docutils literal"><span class="pre">13d7934</span></tt>, and
(ii) collapse the last three commits into one. Now we save and quit the
editor.</p>
<p>Git will then immediately bring up an editor for editing the commit message.
After revising it, we get the output:</p>
<div class="highlight-python"><div class="highlight"><pre>[detached HEAD 721fc64] FOO: First implementation
 2 files changed, 199 insertions(+), 66 deletions(-)
[detached HEAD 0f22701] Fix a few bugs + disable
 1 files changed, 79 insertions(+), 61 deletions(-)
Successfully rebased and updated refs/heads/my-feature-branch.
</pre></div>
</div>
<p>and the history looks now like this:</p>
<div class="highlight-python"><div class="highlight"><pre>0f22701 Fix a few bugs + disable
721fc64 ENH: Sophisticated feature
6ad92e5 * masked is now an instance of a new object, MaskedConstant
</pre></div>
</div>
<p>If it went wrong, recovery is again possible as explained <a class="reference internal" href="#recovering-from-mess-up"><em>above</em></a>.</p>
</div>
<div class="section" id="fetching-a-pull-request">
<h3><a class="toc-backref" href="#id27">Fetching a pull request</a><a class="headerlink" href="#fetching-a-pull-request" title="Permalink to this headline">¶</a></h3>
<p>To fetch a pull request on the main repository to your local working
directory as a new branch, just do:</p>
<div class="highlight-python"><div class="highlight"><pre>git fetch upstream pull/&lt;pull request number&gt;/head:&lt;local-branch&gt;
</pre></div>
</div>
<p>As an example, to pull the realtime pull request which has a url
<tt class="docutils literal"><span class="pre">https://github.com/mne-tools/mne-python/pull/615/</span></tt>, do:</p>
<div class="highlight-python"><div class="highlight"><pre>git fetch upstream pull/615/head:realtime
</pre></div>
</div>
<p>If you want to fetch a pull request to your own fork, replace
<tt class="docutils literal"><span class="pre">upstream</span></tt> with <tt class="docutils literal"><span class="pre">origin</span></tt>. That&#8217;s it!</p>
</div>
<div class="section" id="skipping-a-build">
<h3><a class="toc-backref" href="#id28">Skipping a build</a><a class="headerlink" href="#skipping-a-build" title="Permalink to this headline">¶</a></h3>
<p>The builds when the pull request is in <cite>WIP</cite> state can be safely skipped. The important thing is to ensure that the builds pass when the PR is ready to be merged. To skip a Travis build, add <tt class="docutils literal"><span class="pre">[ci</span> <span class="pre">skip]</span></tt> to the commit message:</p>
<div class="highlight-python"><div class="highlight"><pre>FIX: some changes [ci skip]
</pre></div>
</div>
<p>This will help prevent clogging up Travis and Appveyor and also save the environment.</p>
</div>
</div>
<div class="section" id="documentation">
<h2><a class="toc-backref" href="#id29">Documentation</a><a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="adding-an-example-to-example-gallery">
<h3><a class="toc-backref" href="#id30">Adding an example to example gallery</a><a class="headerlink" href="#adding-an-example-to-example-gallery" title="Permalink to this headline">¶</a></h3>
<p>Add the example to the correct subfolder in the <tt class="docutils literal"><span class="pre">examples/</span></tt> directory and
prefix the file with <tt class="docutils literal"><span class="pre">plot_</span></tt>. To make sure that the example renders correctly,
run <tt class="docutils literal"><span class="pre">make</span> <span class="pre">html</span></tt> in the <tt class="docutils literal"><span class="pre">doc/</span></tt> folder</p>
</div>
<div class="section" id="building-a-subset-of-examples">
<h3><a class="toc-backref" href="#id31">Building a subset of examples</a><a class="headerlink" href="#building-a-subset-of-examples" title="Permalink to this headline">¶</a></h3>
<p>To build only a subset of examples, it is possible to provide a regular expression
which searches on the full pathname of the file. For example, you can do:</p>
<div class="highlight-python"><div class="highlight"><pre>make html_dev-pattern PATTERN=&#39;/decoding/plot_&#39;
</pre></div>
</div>
<p>It will run only the examples in the <tt class="docutils literal"><span class="pre">decoding</span></tt> folder. Consult the <a class="reference external" href="http://sphinx-gallery.readthedocs.org/en/latest/advanced_configuration.html">sphinx gallery documentation</a>
for more details.</p>
</div>
<div class="section" id="editing-rst-files">
<h3><a class="toc-backref" href="#id32">Editing *.rst files</a><a class="headerlink" href="#editing-rst-files" title="Permalink to this headline">¶</a></h3>
<p>These are reStructuredText files. Consult the <a class="reference external" href="http://sphinx-doc.org/rest.html">Sphinx documentation</a> to learn
more about editing them.</p>
</div>
</div>
<div class="section" id="troubleshooting">
<span id="id2"></span><h2><a class="toc-backref" href="#id33">Troubleshooting</a><a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>Listed below are miscellaneous issues that you might face:</p>
<div class="section" id="missing-files-in-examples-or-unit-tests">
<h3><a class="toc-backref" href="#id34">Missing files in examples or unit tests</a><a class="headerlink" href="#missing-files-in-examples-or-unit-tests" title="Permalink to this headline">¶</a></h3>
<p>If the unit tests fail due to missing files, you may need to run
<a class="reference external" href="https://github.com/mne-tools/mne-scripts/">mne-scripts</a> on the sample dataset. Go to <tt class="docutils literal"><span class="pre">bash</span></tt> if you are using some
other shell. Then, execute all three shell scripts in the
<tt class="docutils literal"><span class="pre">sample-data/</span></tt> directory within <tt class="docutils literal"><span class="pre">mne-scripts/</span></tt>.</p>
</div>
<div class="section" id="cannot-import-class-from-a-new-py-file">
<h3><a class="toc-backref" href="#id35">Cannot import class from a new *.py file</a><a class="headerlink" href="#cannot-import-class-from-a-new-py-file" title="Permalink to this headline">¶</a></h3>
<p>You need to update the corresponding <tt class="docutils literal"><span class="pre">__init__.py</span></tt> file and then
restart the ipython kernel.</p>
</div>
<div class="section" id="ice-default-io-error-handler-doing-an-exit">
<h3><a class="toc-backref" href="#id36">ICE default IO error handler doing an exit()</a><a class="headerlink" href="#ice-default-io-error-handler-doing-an-exit" title="Permalink to this headline">¶</a></h3>
<p>If the make test command fails with the error <tt class="docutils literal"><span class="pre">ICE</span> <span class="pre">default</span> <span class="pre">IO</span> <span class="pre">error</span>
<span class="pre">handler</span> <span class="pre">doing</span> <span class="pre">an</span> <span class="pre">exit()</span></tt>, try backing up or removing .ICEauthority:</p>
<div class="highlight-python"><div class="highlight"><pre>mv ~/.ICEauthority ~/.ICEauthority.bak
</pre></div>
</div>
</div>
</div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2012-2016, MNE Developers. Last updated on 2016-05-11.<br/>
    </p>
  </div>
</footer>
  </body>
</html>