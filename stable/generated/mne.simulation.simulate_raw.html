<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mne.simulation.simulate_raw &mdash; MNE 0.12.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="MNE 0.12.0 documentation" href="../index.html" />
    <link rel="up" title="Python API Reference" href="../python_reference.html" />
    <link rel="next" title="mne.simulation.simulate_stc" href="mne.simulation.simulate_stc.html" />
    <link rel="prev" title="mne.simulation.simulate_evoked" href="mne.simulation.simulate_evoked.html" />

<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="http://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/mne_logo_small.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.12.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../getting_started.html">Get started</a></li>
                <li><a href="../tutorials.html">Tutorials</a></li>
                <li><a href="../auto_examples/index.html">Gallery</a></li>
                <li><a href="../python_reference.html">API</a></li>
                <li><a href="../manual/index.html">Manual</a></li>
                <li><a href="../faq.html">FAQ</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">Examples Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribute to MNE</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../python_reference.html">Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new.html">What&#8217;s new</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cite.html">How to cite MNE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">Related publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cited.html">Publications from MNE users</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">mne.simulation.simulate_raw</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">mne.simulation.simulate_raw</a></li>
</ul>

  <li>
    <a href="mne.simulation.simulate_evoked.html" title="Previous Chapter: mne.simulation.simulate_evoked"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; mne.simulatio...</span>
    </a>
  </li>
  <li>
    <a href="mne.simulation.simulate_stc.html" title="Next Chapter: mne.simulation.simulate_stc"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">mne.simulatio... &raquo;</span>
    </a>
  </li>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12">
      
  <div class="section" id="mne-simulation-simulate-raw">
<h1>mne.simulation.simulate_raw<a class="headerlink" href="#mne-simulation-simulate-raw" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="mne.simulation.simulate_raw">
<tt class="descclassname">mne.simulation.</tt><tt class="descname">simulate_raw</tt><big>(</big><em>raw</em>, <em>stc</em>, <em>trans</em>, <em>src</em>, <em>bem</em>, <em>cov='simple'</em>, <em>blink=False</em>, <em>ecg=False</em>, <em>chpi=False</em>, <em>head_pos=None</em>, <em>mindist=1.0</em>, <em>interp='cos2'</em>, <em>iir_filter=None</em>, <em>n_jobs=1</em>, <em>random_state=None</em>, <em>verbose=None</em><big>)</big><a class="headerlink" href="#mne.simulation.simulate_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate raw data with head movements</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>raw</strong> : instance of Raw</p>
<blockquote>
<div><p>The raw template to use for simulation. The <tt class="docutils literal"><span class="pre">info</span></tt>, <tt class="docutils literal"><span class="pre">times</span></tt>,
and potentially <tt class="docutils literal"><span class="pre">first_samp</span></tt> properties will be used.</p>
</div></blockquote>
<p><strong>stc</strong> : instance of SourceEstimate</p>
<blockquote>
<div><p>The source estimate to use to simulate data. Must have the same
sample rate as the raw data.</p>
</div></blockquote>
<p><strong>trans</strong> : dict | str | None</p>
<blockquote>
<div><p>Either a transformation filename (usually made using mne_analyze)
or an info dict (usually opened using read_trans()).
If string, an ending of <cite>.fif</cite> or <cite>.fif.gz</cite> will be assumed to
be in FIF format, any other ending will be assumed to be a text
file with a 4x4 transformation matrix (like the <cite>&#8211;trans</cite> MNE-C
option). If trans is None, an identity transform will be used.</p>
</div></blockquote>
<p><strong>src</strong> : str | instance of SourceSpaces</p>
<blockquote>
<div><p>Source space corresponding to the stc. If string, should be a source
space filename. Can also be an instance of loaded or generated
SourceSpaces.</p>
</div></blockquote>
<p><strong>bem</strong> : str | dict</p>
<blockquote>
<div><p>BEM solution  corresponding to the stc. If string, should be a BEM
solution filename (e.g., &#8220;sample-5120-5120-5120-bem-sol.fif&#8221;).</p>
</div></blockquote>
<p><strong>cov</strong> : instance of Covariance | str | None</p>
<blockquote>
<div><p>The sensor covariance matrix used to generate noise. If None,
no noise will be added. If &#8216;simple&#8217;, a basic (diagonal) ad-hoc
noise covariance will be used. If a string, then the covariance
will be loaded.</p>
</div></blockquote>
<p><strong>blink</strong> : bool</p>
<blockquote>
<div><p>If true, add simulated blink artifacts. See Notes for details.</p>
</div></blockquote>
<p><strong>ecg</strong> : bool</p>
<blockquote>
<div><p>If true, add simulated ECG artifacts. See Notes for details.</p>
</div></blockquote>
<p><strong>chpi</strong> : bool</p>
<blockquote>
<div><p>If true, simulate continuous head position indicator information.
Valid cHPI information must encoded in <tt class="docutils literal"><span class="pre">raw.info['hpi_meas']</span></tt>
to use this option.</p>
</div></blockquote>
<p><strong>head_pos</strong> : None | str | dict | tuple | array</p>
<blockquote>
<div><p>Name of the position estimates file. Should be in the format of
the files produced by maxfilter. If dict, keys should
be the time points and entries should be 4x4 <tt class="docutils literal"><span class="pre">dev_head_t</span></tt>
matrices. If None, the original head position (from
<tt class="docutils literal"><span class="pre">info['dev_head_t']</span></tt>) will be used. If tuple, should have the
same format as data returned by <cite>head_pos_to_trans_rot_t</cite>.
If array, should be of the form returned by <cite>read_head_pos</cite>.</p>
</div></blockquote>
<p><strong>mindist</strong> : float</p>
<blockquote>
<div><p>Minimum distance between sources and the inner skull boundary
to use during forward calculation.</p>
</div></blockquote>
<p><strong>interp</strong> : str</p>
<blockquote>
<div><p>Either &#8216;cos2&#8217;, &#8216;linear&#8217;, or &#8216;zero&#8217;, the type of forward-solution
interpolation to use between forward solutions at different
head positions.</p>
</div></blockquote>
<p><strong>iir_filter</strong> : None | array</p>
<blockquote>
<div><p>IIR filter coefficients (denominator) e.g. [1, -1, 0.2].</p>
</div></blockquote>
<p><strong>n_jobs</strong> : int</p>
<blockquote>
<div><p>Number of jobs to use.</p>
</div></blockquote>
<p><strong>random_state</strong> : None | int | np.random.RandomState</p>
<blockquote>
<div><p>The random generator state used for blink, ECG, and sensor
noise randomization.</p>
</div></blockquote>
<p><strong>verbose</strong> : bool, str, int, or None</p>
<blockquote>
<div><p>If not None, override default verbose level (see mne.verbose).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>raw</strong> : instance of Raw</p>
<blockquote class="last">
<div><p>The simulated raw file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-obj docutils literal"><span class="pre">read_head_pos</span></tt></p>
</div>
<p class="rubric">Notes</p>
<p>Events coded with the position number (starting at 1) will be stored
in the trigger channel (if available) at times corresponding to t=0
in the <tt class="docutils literal"><span class="pre">stc</span></tt>.</p>
<p>The resulting SNR will be determined by the structure of the noise
covariance, the amplitudes of <tt class="docutils literal"><span class="pre">stc</span></tt>, and the head position(s) provided.</p>
<p>The blink and ECG artifacts are generated by 1) placing impulses at
random times of activation, and 2) convolving with activation kernel
functions. In both cases, the scale-factors of the activation functions
(and for the resulting EOG and ECG channel traces) were chosen based on
visual inspection to yield amplitudes generally consistent with those
seen in experimental data. Noisy versions of the blink and ECG
activations will be stored in the first EOG and ECG channel in the
raw file, respectively, if they exist.</p>
<p>For blink artifacts:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Random activation times are drawn from an inhomogeneous poisson
process whose blink rate oscillates between 4.5 blinks/minute
and 17 blinks/minute based on the low (reading) and high (resting)
blink rates from <a class="reference internal" href="#r28" id="id1">[R28]</a>.</li>
<li>The activation kernel is a 250 ms Hanning window.</li>
<li>Two activated dipoles are located in the z=0 plane (in head
coordinates) at ±30 degrees away from the y axis (nasion).</li>
<li>Activations affect MEG and EEG channels.</li>
</ol>
</div></blockquote>
<p>For ECG artifacts:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Random inter-beat intervals are drawn from a uniform distribution
of times corresponding to 40 and 80 beats per minute.</li>
<li>The activation function is the sum of three Hanning windows with
varying durations and scales to make a more complex waveform.</li>
<li>The activated dipole is located one (estimated) head radius to
the left (-x) of head center and three head radii below (+z)
head center; this dipole is oriented in the +x direction.</li>
<li>Activations only affect MEG channels.</li>
</ol>
</div></blockquote>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.10.0.</span></p>
</div>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r28" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R28]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> Bentivoglio et al. &#8220;Analysis of blink rate patterns in normal
subjects&#8221; Movement Disorders, 1997 Nov;12(6):1028-34.</td></tr>
</tbody>
</table>
</dd></dl>

<div style='clear:both'></div></div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2012-2016, MNE Developers. Last updated on 2016-05-11.<br/>
    </p>
  </div>
</footer>
  </body>
</html>