<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mne.preprocessing.run_ica &mdash; MNE 0.12.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="MNE 0.12.0 documentation" href="../index.html" />
    <link rel="up" title="Python API Reference" href="../python_reference.html" />
    <link rel="next" title="mne.io.add_reference_channels" href="mne.io.add_reference_channels.html" />
    <link rel="prev" title="mne.preprocessing.read_ica" href="mne.preprocessing.read_ica.html" />

<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="http://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/mne_logo_small.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.12.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../getting_started.html">Get started</a></li>
                <li><a href="../tutorials.html">Tutorials</a></li>
                <li><a href="../auto_examples/index.html">Gallery</a></li>
                <li><a href="../python_reference.html">API</a></li>
                <li><a href="../manual/index.html">Manual</a></li>
                <li><a href="../faq.html">FAQ</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">Examples Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribute to MNE</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../python_reference.html">Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new.html">What&#8217;s new</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cite.html">How to cite MNE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">Related publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cited.html">Publications from MNE users</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">mne.preprocessing.run_ica</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">mne.preprocessing.run_ica</a></li>
</ul>

  <li>
    <a href="mne.preprocessing.read_ica.html" title="Previous Chapter: mne.preprocessing.read_ica"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; mne.preproces...</span>
    </a>
  </li>
  <li>
    <a href="mne.io.add_reference_channels.html" title="Next Chapter: mne.io.add_reference_channels"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">mne.io.add_re... &raquo;</span>
    </a>
  </li>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12">
      
  <div class="section" id="mne-preprocessing-run-ica">
<h1>mne.preprocessing.run_ica<a class="headerlink" href="#mne-preprocessing-run-ica" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="mne.preprocessing.run_ica">
<tt class="descclassname">mne.preprocessing.</tt><tt class="descname">run_ica</tt><big>(</big><em>raw</em>, <em>n_components</em>, <em>max_pca_components=100</em>, <em>n_pca_components=64</em>, <em>noise_cov=None</em>, <em>random_state=None</em>, <em>picks=None</em>, <em>start=None</em>, <em>stop=None</em>, <em>start_find=None</em>, <em>stop_find=None</em>, <em>ecg_ch=None</em>, <em>ecg_score_func='pearsonr'</em>, <em>ecg_criterion=0.1</em>, <em>eog_ch=None</em>, <em>eog_score_func='pearsonr'</em>, <em>eog_criterion=0.1</em>, <em>skew_criterion=-1</em>, <em>kurt_criterion=-1</em>, <em>var_criterion=0</em>, <em>add_nodes=None</em>, <em>verbose=None</em><big>)</big><a class="headerlink" href="#mne.preprocessing.run_ica" title="Permalink to this definition">¶</a></dt>
<dd><p>Run ICA decomposition on raw data and identify artifact sources</p>
<p>This function implements an automated artifact removal work flow.</p>
<p>Hints and caveats:</p>
<blockquote>
<div><ul class="simple">
<li>It is highly recommended to bandpass filter ECG and EOG
data and pass them instead of the channel names as ecg_ch and eog_ch
arguments.</li>
<li>Please check your results. Detection by kurtosis and variance
can be powerful but misclassification of brain signals as
noise cannot be precluded. If you are not sure set those to None.</li>
<li>Consider using shorter times for start_find and stop_find than
for start and stop. It can save you much time.</li>
</ul>
</div></blockquote>
<p>Example invocation (taking advantage of defaults):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ica</span> <span class="o">=</span> <span class="n">run_ica</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">n_components</span><span class="o">=.</span><span class="mi">9</span><span class="p">,</span> <span class="n">start_find</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">stop_find</span><span class="o">=</span><span class="mi">12000</span><span class="p">,</span>
              <span class="n">ecg_ch</span><span class="o">=</span><span class="s1">&#39;MEG 1531&#39;</span><span class="p">,</span> <span class="n">eog_ch</span><span class="o">=</span><span class="s1">&#39;EOG 061&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>raw</strong> : instance of Raw</p>
<blockquote>
<div><p>The raw data to decompose.</p>
</div></blockquote>
<p><strong>n_components</strong> : int | float | None</p>
<blockquote>
<div><p>The number of components used for ICA decomposition. If int, it must be
smaller then max_pca_components. If None, all PCA components will be
used. If float between 0 and 1 components can will be selected by the
cumulative percentage of explained variance.</p>
</div></blockquote>
<p><strong>max_pca_components</strong> : int | None</p>
<blockquote>
<div><p>The number of components used for PCA decomposition. If None, no
dimension reduction will be applied and max_pca_components will equal
the number of channels supplied on decomposing data.</p>
</div></blockquote>
<p><strong>n_pca_components</strong> :</p>
<blockquote>
<div><p>The number of PCA components used after ICA recomposition. The ensuing
attribute allows to balance noise reduction against potential loss of
features due to dimensionality reduction. If greater than
<tt class="docutils literal"><span class="pre">self.n_components_</span></tt>, the next <tt class="docutils literal"><span class="pre">'n_pca_components'</span></tt> minus
<tt class="docutils literal"><span class="pre">'n_components_'</span></tt> PCA components will be added before restoring the
sensor space data. The attribute gets updated each time the according
parameter for in .pick_sources_raw or .pick_sources_epochs is changed.</p>
</div></blockquote>
<p><strong>noise_cov</strong> : None | instance of mne.cov.Covariance</p>
<blockquote>
<div><p>Noise covariance used for whitening. If None, channels are just
z-scored.</p>
</div></blockquote>
<p><strong>random_state</strong> : None | int | instance of np.random.RandomState</p>
<blockquote>
<div><p>np.random.RandomState to initialize the FastICA estimation.
As the estimation is non-deterministic it can be useful to
fix the seed to have reproducible results.</p>
</div></blockquote>
<p><strong>picks</strong> : array-like of int</p>
<blockquote>
<div><p>Channels to be included. This selection remains throughout the
initialized ICA solution. If None only good data channels are used.</p>
</div></blockquote>
<p><strong>start</strong> : int | float | None</p>
<blockquote>
<div><p>First sample to include for decomposition. If float, data will be
interpreted as time in seconds. If None, data will be used from the
first sample.</p>
</div></blockquote>
<p><strong>stop</strong> : int | float | None</p>
<blockquote>
<div><p>Last sample to not include for decomposition. If float, data will be
interpreted as time in seconds. If None, data will be used to the
last sample.</p>
</div></blockquote>
<p><strong>start_find</strong> : int | float | None</p>
<blockquote>
<div><p>First sample to include for artifact search. If float, data will be
interpreted as time in seconds. If None, data will be used from the
first sample.</p>
</div></blockquote>
<p><strong>stop_find</strong> : int | float | None</p>
<blockquote>
<div><p>Last sample to not include for artifact search. If float, data will be
interpreted as time in seconds. If None, data will be used to the last
sample.</p>
</div></blockquote>
<p><strong>ecg_ch</strong> : str | ndarray | None</p>
<blockquote>
<div><p>The <tt class="docutils literal"><span class="pre">target</span></tt> argument passed to ica.find_sources_raw. Either the
name of the ECG channel or the ECG time series. If None, this step
will be skipped.</p>
</div></blockquote>
<p><strong>ecg_score_func</strong> : str | callable</p>
<blockquote>
<div><p>The <tt class="docutils literal"><span class="pre">score_func</span></tt> argument passed to ica.find_sources_raw. Either
the name of function supported by ICA or a custom function.</p>
</div></blockquote>
<p><strong>ecg_criterion</strong> : float | int | list-like | slice</p>
<blockquote>
<div><p>The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</div></blockquote>
<p><strong>eog_ch</strong> : list | str | ndarray | None</p>
<blockquote>
<div><p>The <tt class="docutils literal"><span class="pre">target</span></tt> argument or the list of target arguments subsequently
passed to ica.find_sources_raw. Either the name of the vertical EOG
channel or the corresponding EOG time series. If None, this step
will be skipped.</p>
</div></blockquote>
<p><strong>eog_score_func</strong> : str | callable</p>
<blockquote>
<div><p>The <tt class="docutils literal"><span class="pre">score_func</span></tt> argument passed to ica.find_sources_raw. Either
the name of function supported by ICA or a custom function.</p>
</div></blockquote>
<p><strong>eog_criterion</strong> : float | int | list-like | slice</p>
<blockquote>
<div><p>The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</div></blockquote>
<p><strong>skew_criterion</strong> : float | int | list-like | slice</p>
<blockquote>
<div><p>The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</div></blockquote>
<p><strong>kurt_criterion</strong> : float | int | list-like | slice</p>
<blockquote>
<div><p>The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</div></blockquote>
<p><strong>var_criterion</strong> : float | int | list-like | slice</p>
<blockquote>
<div><p>The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</div></blockquote>
<p><strong>add_nodes</strong> : list of ica_nodes</p>
<blockquote>
<div><p>Additional list if tuples carrying the following parameters:
(name : str, target : str | array, score_func : callable,
criterion : float | int | list-like | slice). This parameter is a
generalization of the artifact specific parameters above and has
the same structure. Example:</p>
<div class="highlight-python"><div class="highlight"><pre>add_nodes=(&#39;ECG phase lock&#39;, ECG 01&#39;, my_phase_lock_function, 0.5)
</pre></div>
</div>
</div></blockquote>
<p><strong>verbose</strong> : bool, str, int, or None</p>
<blockquote>
<div><p>If not None, override default verbose level (see mne.verbose).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ica</strong> : instance of ICA</p>
<blockquote class="last">
<div><p>The ica object with detected artifact sources marked for exclusion</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div style='clear:both'></div></div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2012-2016, MNE Developers. Last updated on 2016-05-11.<br/>
    </p>
  </div>
</footer>
  </body>
</html>